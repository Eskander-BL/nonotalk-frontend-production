.talking {
  border: 4px solid #22c55e !important; /* vert */
  animation: pulse 1.5s infinite;
}

/* Effet visuel doux pendant l'enregistrement (micro actif) */
.recording-ring {
  animation: micPulse 1.2s ease-in-out infinite;
  box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.5); /* rouge-500 */
}
@keyframes micPulse {
  0%   { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.6); }
  70%  { box-shadow: 0 0 15px 10px rgba(239, 68, 68, 0); }
  100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
}

@keyframes pulse {
  0% { 
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); 
  }
  70% { 
    box-shadow: 0 0 20px 10px rgba(34, 197, 94, 0); 
  }
  100% { 
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); 
  }
}

/* Avatar vidéo — clair, sans transparence */
.nono-video {
  mix-blend-mode: normal; /* supprimer tout assombrissement */
}

/* Lip-sync : animation bouche basée sur volume audio */
.mouth-container {
  position: absolute;
  bottom: 20%;
  left: 50%;
  transform: translateX(-50%);
  width: 30px;
  height: 20px;
  pointer-events: none;
  z-index: 10;
}

/* Bouche fermée (état par défaut) */
.mouth {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.3);
  transition: all 0.05s ease-out;
}

/* Bouche ouverte (pendant audio) */
.mouth.speaking {
  height: 120%;
  border-radius: 50% 50% 40% 40%;
  animation: lipSync 0.3s ease-in-out infinite;
}

@keyframes lipSync {
  0%, 100% {
    transform: scaleY(0.8);
  }
  50% {
    transform: scaleY(1.2);
  }
}

/* Amplitude basée sur le volume audio */
.mouth[data-volume="high"] {
  transform: scaleY(1.5);
}

.mouth[data-volume="medium"] {
  transform: scaleY(1.2);
}

.mouth[data-volume="low"] {
  transform: scaleY(0.8);
}
